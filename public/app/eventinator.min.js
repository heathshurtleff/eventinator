angular.module("eventinator",["ui.router","ngResource"]);angular.module("eventinator").config(["$stateProvider","$urlRouterProvider",function(e,t){t.otherwise("/");e.state("main",{url:"/",templateUrl:"app/main/eventList.html"}).state("signup",{url:"/signup",templateUrl:"app/signup/eventSignup.html",controller:"eventSignupCtrl"})}]);angular.module("eventinator").controller("eventinatorCtrl",["$scope","eventIdentity","authService","$location",function(e,t,n,r){e.identity=t;e.signout=function(){n.logoutUser().then(function(){e.emial="";e.password="";r.path("/")})}}]);angular.module("eventinator").factory("authService",["$q","$http","eventUser","eventIdentity",function(e,t,n,r){return{createEvtUser:function(t){var o=new n(t),a=e.defer();o.$save().then(function(){r.currentUser=o;a.resolve()},function(e){a.reject(e.data.reason)});return a.promise},logoutUser:function(){var n=e.defer();t.post("/app/logout",{logout:!0}).then(function(){r.currentUser=void 0;n.resolve()});return n.promise}}}]);angular.module("eventinator").factory("eventIdentity",["$window","eventUser",function(e,t){var n;if(e.bootstrappedEventUser){n=new t;angular.extend(n,e.bootstrappedEventUser)}return{currentUser:n,authenticated:function(){return!!this.currentUser}}}]);angular.module("eventinator").controller("eventSignupCtrl",["$scope","$location","eventUser","authService",function(e,t,n,r){e.eventSignup=function(){var n={email:e.email,password:e.password,fullName:e.fullName,company:e.company,job:e.job,bday:e.bday,homeAddress:e.homeAddress};r.createEvtUser(n).then(function(){t.path("/")},function(e){console.log(e)})}}]);angular.module("eventinator").factory("eventUser",["$resource",function(e){var t=e("/app/eventUsers/:id",{_id:"@id"},{update:{method:"PUT",isArray:!1}});return t}]);